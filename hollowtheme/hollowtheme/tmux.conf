# =========================
# TMUX CONFIG - Modern & Clean
# =========================

# --- Prefix ---
unbind C-b                    # Remove default prefix
set-option -g prefix C-a      # Use Ctrl+A as prefix
bind-key C-a send-prefix

# --- General Options ---
set-option -g mouse on         # Enable mouse support
set-option -g history-limit 10000
set-option -g default-terminal "tmux-256color"
set-option -g allow-rename off # Prevent automatic window renaming

# --- Indexing ---
set-option -g base-index 1      # Windows start at 1
setw -g pane-base-index 1       # Panes start at 1

# --- Status Bar ---
set-option -g status on
set-option -g status-interval 2
set-option -g status-justify centre
set-option -g status-left-length 40
set-option -g status-right-length 120
set-option -g status-style "bg=#1e1e2e,fg=#a6adc8"  # Dark background, visible text

# Left: session name
set-option -g status-left "#[fg=#a6adc8,bold]#S #[fg=#fab387]|"

# Right: time/date
set-option -g status-right "#[fg=#74c7ec]%Y-%m-%d #[fg=#b4befe]%H:%M"

# --- Window Styles ---
setw -g window-status-format "#[fg=#7f849c] #I:#W "
setw -g window-status-current-format "#[fg=#11111b,bg=#fab387] #I:#W #[default]"

# --- Pane Navigation (Vim-style) ---
bind-key h select-pane -L
bind-key j select-pane -D
bind-key k select-pane -U
bind-key l select-pane -R

# --- Pane Resizing ---
bind-key -r H resize-pane -L 5
bind-key -r J resize-pane -D 5
bind-key -r K resize-pane -U 5
bind-key -r L resize-pane -R 5

# --- Split Panes ---
bind-key | split-window -h
bind-key - split-window -v

# --- Window Navigation ---
bind-key c new-window
bind-key n next-window
bind-key p previous-window
bind-key & kill-window
bind-key , command-prompt "rename-window %%"

# --- Copy & Paste ---
setw -g mode-keys vi          # Vim-style navigation in copy mode
bind-key [ copy-mode
bind-key ] paste-buffer

# --- Visual Enhancements ---
set-option -g pane-border-style "fg=#45475a"
set-option -g pane-active-border-style "fg=#74c7ec"

# --- Startup Session (Optional) ---
if-shell 'tmux list-sessions | grep -q main' '' 'new-session -d -s main'

# --- Reload Config ---
bind r source-file ~/.tmux.conf \; display-message "Tmux config reloaded!"
